(this["webpackJsonptap-puzzle"]=this["webpackJsonptap-puzzle"]||[]).push([[0],{13:function(t,a,e){},14:function(t,a,e){"use strict";e.r(a);var n,r,i=e(0),o=e.n(i),d=e(7),s=e.n(d),l=(e(13),e(2)),c=e(3),h=e(1),u=e(5),g=e(4),p="",m="",v=function(t){return{x:parseInt(n(t).css("left").replace("px",""))+n(t).width()/2,y:parseInt(n(t).css("top").replace("px",""))+n(t).height()/2}},f=function(t,a){return parseInt(t/100*a)+"px"},w=function(t){var a=[];return t.forEach((function(t,e){a.push(e)})),a.sort((function(){return.5-Math.random()})),a.map((function(a){return t[a]}))},y={total:0,right:0,wrong:0,play:0},b=function(t,a,e,i,o){e.list.forEach((function(a,e){var n="drag left";-1!==a.name.indexOf("drop_")&&(n="drop left"),o&&(n="drop right",-1!==a.name.indexOf("drop_")&&(n="drag right"));var r="";60===parseInt(a.width)&&60===parseInt(a.height)&&(r="drag-main",-1!==a.name.indexOf("drop_")&&(r="drop-main"),o&&(r="drop-main",-1!==a.name.indexOf("drop_")&&(r="drag-main",y.total++))),t.append('<a class="'.concat(n," ").concat(r,'" data-value="').concat(a.name,'" data-index="').concat(e,'" data-left="').concat(f(i,a.left),'" data-top="').concat(f(i,a.top),'"></a>'));var d=t.find("a.left");o&&(d=t.find("a.right")),d.eq(e).css({width:f(i,a.width),height:f(i,a.height),"line-height":f(i,a.height),left:f(i,a.left),top:f(i,a.top)})}));var d=n(".drag.left");o&&(d=n(".drag.right")),d.each((function(t){if(!n(a).find("line[id='"+n(this).attr("data-value")+"']").length){var e=document.createElementNS("http://www.w3.org/2000/svg","line");a.appendChild(e),e.setAttribute("style","stroke:rgb(0,0,0);stroke-width:3"),e.setAttribute("id",n(this).attr("data-value"))}var i=n(a).find("line[id='"+n(this).attr("data-value")+"']");n(this).draggable({start:function(){i.attr({x1:v(this).x,y1:v(this).y})},drag:function(){i.attr({x2:v(this).x,y2:v(this).y})},stop:function(){var t,a,e,d;n(this).is(".done")?(n(this).css({left:n(this).attr("data-left"),top:n(this).attr("data-top")}),n(r).is(".good")?i.attr({"data-answer":"good"}):i.attr({"data-answer":"bad"}),o?(t=n(this).attr("data-value").replace("drop_",""),a=n(r).attr("data-value").replace("drag_",""),e=n(".drag-main.right[data-value='drop_"+t+"']"),d=n(".drop-main.right[data-value='drag_"+a+"']")):(t=n(this).attr("data-value").replace("drag_",""),a=n(r).attr("data-value").replace("drop_",""),e=n(".drag-main.left[data-value='drag_"+t+"']"),d=n(".drop-main.left[data-value='drop_"+a+"']")),i.attr({x1:v(e).x,y1:v(e).y,x2:v(d).x,y2:v(d).y}),n('[data-value="'+e.attr("data-value")+'"]').remove(),n('[data-value="'+d.attr("data-value")+'"]').remove()):(i.attr({x2:i.attr("x1"),y2:i.attr("y1")}),n(this).css({left:n(this).attr("data-left"),top:n(this).attr("data-top")}))}})}));var s=n(".drop.left");o&&(s=n(".drop.right")),s.droppable({drop:function(t,a){var e=n(a.draggable).attr("data-value");o?(n(".drag.right[data-value='"+e+"']").css("visibility","hidden"),n(".drag.right[data-value='"+e+"']").addClass("done"),n(this).attr("data-value").replace("drag_","")===n(a.draggable).attr("data-value").replace("drop_","")?(n(this).addClass("good"),y.right++):(n(this).addClass("bad"),y.wrong++)):(n(".drag.left[data-value='"+e+"']").css("visibility","hidden"),n(".drag.left[data-value='"+e+"']").addClass("done"),n(this).attr("data-value").replace("drop_","")===n(a.draggable).attr("data-value").replace("drag_","")?(n(this).addClass("good"),y.right++):(n(this).addClass("bad"),y.wrong++)),y.play++,r=this,n("button.reset").removeClass("none"),y.play===y.total&&n("button.submit").removeClass("none")}})},k=function(t){Object(u.a)(e,t);var a=Object(g.a)(e);function e(t){var r;return Object(l.a)(this,e),(r=a.call(this,t)).state={width:0,image:t.data.image,color:t.data.color,data:JSON.parse(t.data.data),mode:0},r.resizeArea=r.resizeArea.bind(Object(h.a)(r)),r.getMode=r.getMode.bind(Object(h.a)(r)),r.action=r.action.bind(Object(h.a)(r)),r.playAgain=r.playAgain.bind(Object(h.a)(r)),n=window.$,r}return Object(c.a)(e,[{key:"action",value:function(t){return!window.$(t.currentTarget).is(".none")&&(window.$(t.currentTarget).is(".submit")&&(window.$("#matching-activities").addClass("game-over"),window.$(".action .check").removeClass("none"),window.$(".action .submit").addClass("none"),console.log(y),y.total===y.right?(window.$(".cloud-message").css("display","block"),window.$(".action .check").addClass("none")):n("line[data-answer]").each((function(){"good"===n(this).attr("data-answer")?n(this).attr("style","stroke:green;stroke-width:3"):n(this).attr("style","stroke:red;stroke-width:3")}))),window.$(t.currentTarget).is(".reset")&&(window.$(".action .reset").addClass("none"),window.$(".action .check").addClass("none"),window.$(".action .submit").addClass("none"),window.$(".cloud-message").css("display","none"),this.resizeArea()),window.$(t.currentTarget).is(".check")?(function(t,a){var e=n("#matching-area"),r=document.querySelector("svg");n(r).find("line").remove();var i=0;t.list.forEach((function(t,n){if(60===parseInt(t.width)&&60===parseInt(t.height)){var r="drag";-1!==t.name.indexOf("drop_")&&(r="drop"),e.append('<a class="'.concat(r,'" data-value="').concat(t.name,'" data-left="').concat(f(a,t.left),'" data-top="').concat(f(a,t.top),'"></a>')),e.find("a").eq(i).css({width:f(a,t.width),height:f(a,t.height),"line-height":f(a,t.height),left:f(a,t.left),top:f(a,t.top)}),i++}})),n(".drag").each((function(){var t=document.createElementNS("http://www.w3.org/2000/svg","line");r.appendChild(t),t.setAttribute("style","stroke:green;stroke-width:3"),t.setAttribute("id",n(this).attr("data-value"));var a=n(this).attr("data-value").replace("drag_","");n(t).attr({x1:v(this).x,y1:v(this).y,x2:v(n(".drop[data-value='drop_"+a+"']")).x,y2:v(n(".drop[data-value='drop_"+a+"']")).y})}))}(this.state.data,this.state.mode),window.$(".action .check").addClass("none"),!1):window.$(t.currentTarget).is(".back")?(this.props.playOthers(),!1):void 0)}},{key:"resizeArea",value:function(){var t=this,a=t.state.data,e=window.$(window).width(),r=window.$(window).height(),i=e,o=e*a.height/a.width;e>r&&(i=r*a.width/a.height,o=r),i>e&&(i=e,o=e*a.height/a.width);var d=i/a.width*100;t.setState({mode:d,width:i,height:o},(function(){!function(t,a){var e=n("#matching-area");e.find(".drag, .drop").remove();var r=document.querySelector("svg");n(r).find("line").remove(),y={total:0,right:0,wrong:0,play:0},b(e,r,t,a),b(e,r,t,a,!0)}(t.state.data,d)}))}},{key:"componentDidMount",value:function(){var t=this;t.resizeArea(),window.addEventListener("resize",(function(){t.resizeArea()}))}},{key:"getMode",value:function(t){return parseInt(this.state.mode/100*t)+"px"}},{key:"playAgain",value:function(t){window.$(".cloud-message").css("display","none"),window.$(".action .reset").addClass("none"),this.resizeArea()}},{key:"render",value:function(){var t=this,a=t.state.data;return o.a.createElement("div",{id:"matching-activities",style:{background:t.state.color}},o.a.createElement("div",{id:"matching-area",style:{width:t.getMode(a.width),height:t.getMode(a.height),backgroundImage:"url("+t.state.image+")"}},o.a.createElement("svg",{width:t.getMode(a.width),height:t.getMode(a.height),xmlns:"http://www.w3.org/2000/svg"})),o.a.createElement("button",{className:"material-icons back",onClick:t.action},"arrow_back"),o.a.createElement("div",{className:"action"},o.a.createElement("button",{className:"material-icons submit none",onClick:t.action},"send"),o.a.createElement("button",{className:"material-icons check none",onClick:t.action},"done"),o.a.createElement("button",{className:"material-icons reset none",onClick:t.action},"refresh")),o.a.createElement("div",{className:"cloud-message",style:{display:"none"}},o.a.createElement("div",{className:"cloud"},o.a.createElement("h1",null,"Wonderful"),o.a.createElement("p",null,"You did a great job!"),o.a.createElement("p",null,o.a.createElement("button",{onClick:t.playAgain},"play again"),o.a.createElement("button",{onClick:function(){return t.props.playOthers()}},"play others")))))}}]),e}(o.a.Component),E=function(t,a){var e={};if(localStorage.getItem("appData")&&(e=JSON.parse(localStorage.getItem("appData"))),t=window.btoa(JSON.stringify(t)),!a)return e[t]?e[t]:null;e[t]=a,localStorage.setItem("appData",JSON.stringify(e))},x=function(t){Object(u.a)(e,t);var a=Object(g.a)(e);function e(){var t;return Object(l.a)(this,e),(t=a.call(this)).state={width:0,data:[],index:null,colorArray:[],color:null,score:!1},t.playItem=t.playItem.bind(Object(h.a)(t)),t.playOthers=t.playOthers.bind(Object(h.a)(t)),p=document.body.getAttribute("data-host"),m=document.body.getAttribute("data-post"),t}return Object(c.a)(e,[{key:"componentDidMount",value:function(){var t=this;!function(t,a){var e=E(t);e&&a(e),fetch(m+"games.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(t){return t.json()})).then((function(n){E(t,n),e||a(n)})).catch((function(t){console.error("Error:",t)}))}({method:"getGames",type:"matchingPuzzles"},(function(a){t.setState({data:w(a),localData:[]})}))}},{key:"playItem",value:function(t){this.setState({index:t})}},{key:"playOthers",value:function(){this.setState({index:null})}},{key:"render",value:function(){var t=this;return t.state.data.length?null===t.state.index?o.a.createElement("div",{className:"items-list"},o.a.createElement("h1",null,o.a.createElement("a",{href:"https://tinykidszone.com/"},o.a.createElement("img",{src:"https://tinykidszone.com/images/tkz-logo.png",alt:"Tiny Kids Zone"}))),o.a.createElement("p",null,"Crossword clue fill ctivities, puzzles and exercises which helpful to learn new words for your kids."),o.a.createElement("ul",null,t.state.data.map((function(a,e){var n="";if(t.state.localData[e]){var r=parseInt(t.state.localData[e]);r<=10&&(n="star"),r>10&&r<20&&(n="favorite")}var i={backgroundImage:"url(".concat(a.image,")")};return o.a.createElement("li",{key:a.id,onClick:function(){return t.playItem(e)}},o.a.createElement("div",null,o.a.createElement("i",{className:"material-icons"},n),o.a.createElement("img",{src:"".concat(p,"images/image-2x1.png"),style:i,alt:a.title}),o.a.createElement("span",null,a.title)))})))):o.a.createElement(k,{data:t.state.data[t.state.index],key:t.state.index,playOthers:this.playOthers}):o.a.createElement("div",null,"Loading")}}]),e}(o.a.Component);s.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(x,null)),document.getElementById("root"))},8:function(t,a,e){t.exports=e(14)}},[[8,1,2]]]);
//# sourceMappingURL=main.338009de.chunk.js.map