(this["webpackJsonptap-puzzle"]=this["webpackJsonptap-puzzle"]||[]).push([[0],{14:function(e,t,a){},15:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),l=a(8),o=a.n(l),r=(a(14),a(2)),c=a(3),s=a(1),u=a(5),d=a(6),m=a(4),h="",p="",f=function(e){var t,a,n=e.length;if(0===n)return e;for(;--n;)t=Math.floor(Math.random()*(n+1)),a=e[n],e[n]=e[t],e[t]=a;return e},g=function(e,t){var a={};if(localStorage.getItem("appData")&&(a=JSON.parse(localStorage.getItem("appData"))),e=window.btoa(JSON.stringify(e)),!t)return a[e]?a[e]:null;a[e]=t,localStorage.setItem("appData",JSON.stringify(a))},v=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state=function(){for(var e=[],t=-1,a=0,n=0;n<8;n++)t++,4===n&&(a=1,t=0),e.push({i:n,x:t,y:a});return{data:e=f([].concat(Object(m.a)(e),Object(m.a)(e))),size:16,missed:0,image:""}}(),n.tapClick=n.tapClick.bind(Object(s.a)(n)),n}return Object(c.a)(a,[{key:"componentWillMount",value:function(){this.setState({image:this.props.data.image})}},{key:"componentDidMount",value:function(){document.querySelector("footer span").innerText=0}},{key:"tapClick",value:function(e){var t=this,a=this.state.missed;if(e.currentTarget.classList.contains("done"));else if(e.currentTarget.classList.add("on"),2===document.querySelectorAll(".on").length){var n=document.querySelectorAll(".on")[0].getAttribute("data-index"),i=document.querySelectorAll(".on")[1].getAttribute("data-index");setTimeout((function(){n===i?(document.querySelectorAll(".on").forEach((function(e){e.classList.remove("on"),e.classList.add("done")})),16===document.querySelectorAll(".done").length&&t.props.next()):(document.querySelectorAll(".on").forEach((function(e){e.classList.remove("on")})),a++,t.setState({missed:a},(function(){document.querySelector("footer span").innerText=a})))}),350)}}},{key:"render",value:function(){var e,t=this,a=this.props.width;return e=t.state.data.map((function(e){var n={backgroundImage:"url(".concat(t.state.image,")"),backgroundSize:a+"px",backgroundPosition:"-"+e.x*(a/4)+"px -"+e.y*(a/4)+"px"};return i.a.createElement("div",{className:"","data-index":e.i,style:{width:a/4+"px",height:a/4+"px"},onClick:t.tapClick},i.a.createElement("img",{src:"".concat(h,"images/image-1x1.png"),style:n,alt:""}))})),i.a.createElement("div",{className:"puzzle-area","data-size":t.state.size,style:{width:a}},e)}}]),a}(i.a.Component),y=function(e){if(!e){var t={activeIndex:0,submit:0,data:{}};return localStorage.getItem("tappuzzle")?t=JSON.parse(localStorage.getItem("tappuzzle")):localStorage.setItem("tappuzzle",JSON.stringify(t)),t}localStorage.setItem("tappuzzle",JSON.stringify(e))},b=function(e){Object(d.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(r.a)(this,a),(e=t.call(this)).state={width:0,data:[],index:null,popup:!1,score:null,missed:0,activeData:null},e.widthLoad=e.widthLoad.bind(Object(s.a)(e)),e.next=e.next.bind(Object(s.a)(e)),e.hashChange=e.hashChange.bind(Object(s.a)(e)),h=document.body.getAttribute("data-host"),p=document.body.getAttribute("data-post"),e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;!function(e,t){var a=g(e);a&&t(a),fetch(p+"games.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(n){g(e,n),a||t(n)})).catch((function(e){console.error("Error:",e)}))}({method:"getGames",type:"tappuzzle"},(function(t){e.setState({data:f(t),localData:y().data},(function(){window.addEventListener("resize",this.widthLoad);var t=window.location.hash.replace("#","");e.hashChange(t),window.addEventListener("hashchange",(function(){var t=window.location.hash.replace("#","");e.hashChange(t)}),!1)}))}))}},{key:"widthLoad",value:function(){var e=document.querySelector(".puzzle-game");if(e){var t=e.offsetHeight;t=e.offsetWidth>e.offsetHeight?e.offsetHeight:e.offsetWidth,this.setState({width:t-20}),document.querySelector(".width-area").style.width=e.offsetWidth+"px"}}},{key:"next",value:function(){var e="Better luck next time!",t=parseInt(document.querySelector("footer span").innerText),a=y();t<=10?(e="Excellent job done!",a.data[this.state.index]=t):t>10&&t<20&&(e="Good job done!",a.data[this.state.index]=t),y(a),this.setState({popup:!0,missed:t,message:e})}},{key:"playItem",value:function(e){var t=this;this.setState({activeData:null,id:null,popup:!1},(function(){t.widthLoad()}))}},{key:"hashChange",value:function(e){var t=this,a=t.state.data,n=null;a.length&&a.forEach((function(t,a){t.id===e&&(n=t)})),t.setState({activeData:n,id:e},(function(){n&&t.widthLoad()}))}},{key:"render",value:function(){var e=this;if(!e.state.data.length)return i.a.createElement("div",null,"loading");if(null===e.state.activeData)return i.a.createElement("div",{className:"items-list"},i.a.createElement("h1",null,i.a.createElement("a",{href:"https://tinykidszone.com/"},i.a.createElement("img",{src:"https://tinykidszone.com/images/tkz-logo.png",alt:"Tiny Kids Zone"}))),i.a.createElement("p",null,"Play memory activities, puzzles and exercises which helpful to improved your kids memory."),i.a.createElement("ul",null,e.state.data.map((function(t,a){var n="";if(e.state.localData[a]){var l=parseInt(e.state.localData[a]);l<=10&&(n="star"),l>10&&l<20&&(n="favorite")}var o={backgroundImage:"url(".concat(t.image,")")};return i.a.createElement("li",{key:t.id},i.a.createElement("a",{href:"#".concat(t.id)},i.a.createElement("i",{className:"material-icons"},n),i.a.createElement("img",{src:"".concat(h,"images/image-1x1.png"),style:o,alt:t.title}),i.a.createElement("span",null,t.title)))}))));var t=null;e.state.popup&&(t=i.a.createElement("div",{className:"message"},i.a.createElement("div",{className:"message-box"},i.a.createElement("div",null,i.a.createElement("p",null,e.state.message),i.a.createElement("h4",null,"Your Scroll ",e.state.missed),i.a.createElement("button",{className:"submit",onClick:function(){return e.playItem(null)},"data-type":"submit"},"done")))));var a=e.state.activeData;return i.a.createElement("div",{id:"puzzle"},i.a.createElement("header",null,i.a.createElement("a",{className:"material-icons back",href:"#"},"arrow_back"),i.a.createElement("h1",null,a.title)),i.a.createElement("div",{className:"puzzle-game","data-missed":"0"},i.a.createElement("img",{src:"".concat(h,"images/image-1x1.png"),className:"width-area",alt:""}),i.a.createElement(v,{key:this.state.id,width:this.state.width,data:a,next:this.next})),i.a.createElement("footer",null,i.a.createElement("strong",null,"Puzzle Missed : ",i.a.createElement("span",null,"0"))),t)}}]),a}(i.a.Component);o.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(b,null)),document.getElementById("root"))},9:function(e,t,a){e.exports=a(15)}},[[9,1,2]]]);
//# sourceMappingURL=main.e743107c.chunk.js.map