(this["webpackJsonptap-puzzle"]=this["webpackJsonptap-puzzle"]||[]).push([[0],{13:function(e,t,a){},14:function(e,t,a){"use strict";a.r(t);var n,i=a(0),o=a.n(i),r=a(7),s=a.n(r),l=(a(13),a(2)),c=a(3),d=a(1),h=a(5),p=a(4),u="",m="",g=function(e){var t,a,n=e.length;if(0===n)return e;for(;--n;)t=Math.floor(Math.random()*(n+1)),a=e[n],e[n]=e[t],e[t]=a;return e},w=function(e){return n?n/100*e:e},f=function(e,t){var a={};if(localStorage.getItem("appData")&&(a=JSON.parse(localStorage.getItem("appData"))),e=window.btoa(JSON.stringify(e)),!t)return a[e]?a[e]:null;a[e]=t,localStorage.setItem("appData",JSON.stringify(a))},v=function(e){var t=window.$,a=t("#dragDropGame"),i=e.imageOver,o=e.type,r=0;a.find(".drag, .drop").remove(),a.removeClass("game-over"),t(".action").removeClass("orientation"),t(".action button").addClass("none"),t(".action .back").removeClass("none"),e=JSON.parse(e.data);var s=t(window).width(),l=t(window).height(),c=s,d=s*e.height/e.width;s>l&&(c=l*e.width/e.height,d=l),c>s&&(c=s,d=s*e.height/e.width),n=c/e.width*100,a.width(c),a.height(d);var h=[];t.each(e.list,(function(e,n){var o,r=n.name.replace("drag_","").replace("drop_","");-1!==n.name.indexOf("drag_")?(a.append('<div class="drag drag'+e+'" index="'+e+'" data-type="'+r+'"><img src="'+i+'" /></div>'),(o=t(".drag"+e)).width(w(n.width)).height(w(n.height)).css("left",w(n.left)+"px").css("top",w(n.top)+"px"),o.find("img").width(c).height(d).css("left","-"+w(n.left)+"px").css("top","-"+w(n.top)+"px")):-1!==n.name.indexOf("drop_")&&(a.append('<div class="drop drop'+e+'" index="'+e+'" data-type="'+r+'"><img src="'+i+'"></div>'),(o=t(".drop"+e)).width(w(n.width)).height(w(n.height)).css("left",w(n.left)+"px").css("top",w(n.top)+"px"),o.find("img").width(c).height(d).css("left","-"+w(n.left)+"px").css("top","-"+w(n.top)+"px"))})),t(".drag").each((function(e){t(this).attr("data-type");t(this).draggable({revert:!0,revertDuration:0,stop:function(e,a){t(this).is(".drag-hide")||r++}})})),1==o?t(".drop").each((function(e){var a=t(this).attr("data-type");t(this).droppable({accept:".drag",drop:function(e,n){if(!t(this).is(".drop-show")){t(".action .reset").removeClass("none");var i=t(n.draggable).clone();a===t(n.draggable).attr("data-type")?(t(this).append('<i class="right"></i>'),t(this).find("i").css({width:w(36)+"px",height:w(36)+"px"})):(t(this).append('<i class="wrong"></i>'),t(this).find("i").css({width:w(36)+"px",height:w(36)+"px"})),t(n.draggable).addClass("drag-hide"),i.css({left:0,top:0}),t(this).addClass("drop-show").append(i),t(".drop-show").size()===t(".drop").length&&t(".action .submit").removeClass("none")}}})})):t(".drop").each((function(e){var a=t(this).attr("data-type");t(this).droppable({accept:".drag[data-type='"+a+"']",drop:function(e,a){if(!t(this).is(".drop-show")){var n=t(a.draggable).clone(!0);t(a.draggable).addClass("drag-hide"),n.css({left:0,top:0}),t(this).addClass("drop-show").append(n),window.$(".action .reset").removeClass("none"),t(".drop-show").size()===t(".drop").length&&(t(".alert").addClass("show"),0===r?t(".alert").find("p").text("Excellent job done by you!"):t(".alert").find("p").html("Well played but you missed <span>"+r+"</span>  times!"))}}})})),h=g(h);parseInt((c-0)/e.list.length/2)},y=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).playAgain=n.playAgain.bind(Object(d.a)(n)),n.action=n.action.bind(Object(d.a)(n)),n}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;v(e.props.data),window.addEventListener("resize",(function(){v(e.props.data)}))}},{key:"playAgain",value:function(){window.$(".alert").removeClass("show"),window.$(".cloud-message").css("display","none"),v(this.props.data)}},{key:"action",value:function(e){if(window.$(e.currentTarget).is(".none"))return!1;if(window.$(e.currentTarget).is(".submit")&&(window.$("#dragDropGame i.wrong").length?(window.$("#dragDropGame").addClass("game-over"),window.$(".action .check").removeClass("none")):(window.$(".cloud-message").css("display","block"),window.$(".action .check").addClass("none"))),window.$(e.currentTarget).is(".reset")&&(window.$(".alert").removeClass("show"),window.$(".cloud-message").css("display","none"),window.$(".action .reset").addClass("none"),v(this.props.data)),window.$(e.currentTarget).is(".check")){var t=[];return window.$(".drop").each((function(){var e=window.$(this);e.find(".drag").remove(),e.find("span").remove();var a=window.$(this).attr("data-type");-1===t.indexOf(a)&&t.push(window.$(this).attr("data-type"))})),t.forEach((function(e){window.$(".drop[data-type='"+e+"']").each((function(t){var a=window.$(this),n=window.$(".drag.drag-hide[data-type='"+e+"']").eq(t).clone();n.removeClass("drag-hide").css({left:0,top:0}),a.append(n),window.$(".action .submit, .action .check").addClass("none"),window.$(".action .reset").removeClass("none"),a.find("i").attr("class","right")}))})),!1}return window.$(e.currentTarget).is(".back")?(this.props.playOthers(),!1):void 0}},{key:"render",value:function(){var e=this,t=this.props.data,a="";return 2==t.type&&(a="action-2"),o.a.createElement("div",{className:"bg-area",style:{backgroundImage:"url("+t.bg+")"}},o.a.createElement("section",{id:"dragDropGame",style:{backgroundImage:"url("+t.image+")"}}),o.a.createElement("a",{className:"material-icons back",href:"#"},"arrow_back"),o.a.createElement("div",{className:"action ".concat(a)},o.a.createElement("button",{className:"material-icons submit none",onClick:this.action},"send"),o.a.createElement("button",{className:"material-icons check none",onClick:this.action},"done"),o.a.createElement("button",{className:"material-icons reset none",onClick:this.action},"refresh")),o.a.createElement("div",{className:"cloud-message",style:{display:"none"}},o.a.createElement("div",{className:"cloud"},o.a.createElement("h1",null,"Wonderful"),o.a.createElement("p",null,"You did a great job!"),o.a.createElement("p",null,o.a.createElement("a",{onClick:this.playAgain},"play again"),o.a.createElement("a",{href:"#"},"play others")))),o.a.createElement("div",{className:"alert"},o.a.createElement("div",null,o.a.createElement("p",null),o.a.createElement("button",{onClick:this.playAgain},"Play Again"),o.a.createElement("button",{onClick:function(){return e.props.playOthers()}},"Play Others"))))}}]),a}(o.a.Component),b=function(e){Object(h.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).state={width:0,data:[],index:null,id:null,activeData:null,colorArray:[],color:null,score:!1},e.playItem=e.playItem.bind(Object(d.a)(e)),e.playOthers=e.playOthers.bind(Object(d.a)(e)),e.hashChange=e.hashChange.bind(Object(d.a)(e)),u=document.body.getAttribute("data-host"),m=document.body.getAttribute("data-post"),new Audio(u+"/games/audio/wrong.mp3"),new Audio(u+"/games/audio/right.mp3"),e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var e=this;!function(e,t){var a=f(e);a&&t(a),fetch(m+"games.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((function(e){return e.json()})).then((function(n){f(e,n),a||t(n)})).catch((function(e){console.error("Error:",e)}))}({method:"getGames",type:"dragdrop"},(function(t){e.setState({data:g(t),localData:[]},(function(){var t=window.location.hash.replace("#","");e.hashChange(t)}))})),window.addEventListener("hashchange",(function(){var t=window.location.hash.replace("#","");e.hashChange(t)}),!1)}},{key:"playItem",value:function(e){this.setState({index:e})}},{key:"playOthers",value:function(){this.setState({activeData:null})}},{key:"hashChange",value:function(e){var t=this.state.data,a=null;t.length&&t.forEach((function(t,n){t.id===e&&(a=t)})),this.setState({activeData:a,id:e})}},{key:"render",value:function(){var e=this;return e.state.data.length?null===e.state.activeData?o.a.createElement("div",{className:"items-list"},o.a.createElement("h1",null,o.a.createElement("a",{href:"https://tinykidszone.com/"},o.a.createElement("img",{src:"https://tinykidszone.com/images/tkz-logo.png",alt:"Tiny Kids Zone"}))),o.a.createElement("p",null,"Play memory activities, puzzles and exercises which helpful to improved your kids memory."),o.a.createElement("ul",null,e.state.data.map((function(t,a){var n="";if(e.state.localData[a]){var i=parseInt(e.state.localData[a]);i<=10&&(n="star"),i>10&&i<20&&(n="favorite")}var r={backgroundImage:"url(".concat(t.bg,")")};return o.a.createElement("li",{key:t.id},o.a.createElement("a",{href:"#".concat(t.id)},o.a.createElement("i",{className:"material-icons"},n),o.a.createElement("img",{src:"".concat(u,"images/image-1x1.png"),style:r,alt:t.title}),o.a.createElement("span",null,t.title)))})))):o.a.createElement(y,{data:e.state.activeData,key:e.state.id,playOthers:this.playOthers}):o.a.createElement("div",null,"Loading")}}]),a}(o.a.Component);s.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(b,null)),document.getElementById("root"))},8:function(e,t,a){e.exports=a(14)}},[[8,1,2]]]);
//# sourceMappingURL=main.985340a1.chunk.js.map